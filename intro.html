
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <title>实验说明 · dbs-tutorial</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="HonKit 3.7.1">
        
        
        
    
    <link rel="stylesheet" href="gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-alerts/style.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-back-to-top-button/plugin.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-chapter-fold/chapter-fold.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-click-reveal/click_reveal.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-code/plugin.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-codeblock-label/block.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-expandable-chapters-interactive/expandable-chapters.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-intopic-toc/style.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-katex-pro/katex.min.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-search-plus/search.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-todo/website.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="lab1.html" />
    
    
    <link rel="prev" href="test.html" />
    

    </head>
    <body>
        
<div class="book honkit-cloak">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        <li class="header">总述</li>
        
        
    
        <li class="chapter " data-level="1.1" data-path="./">
            
                <a href="./">
            
                    
                    实验框架
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="test.html">
            
                <a href="test.html">
            
                    
                    测试说明
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.3" data-path="intro.html">
            
                <a href="intro.html">
            
                    
                    实验说明
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">实验</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="lab1.html">
            
                <a href="lab1.html">
            
                    
                    lab 1: 记录管理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="lab2.html">
            
                <a href="lab2.html">
            
                    
                    lab 2: 日志管理
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://github.com/honkit/honkit" target="blank" class="gitbook-link">
            Published with HonKit
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="." >实验说明</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div class="search-plus" id="book-search-results">
    <div class="search-noresults">
    
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <html><head></head><body><h1 id="实验说明">实验说明</h1>
<h2 id="代码位置">代码位置</h2>
<p>对于基础功能，仅需要正确补充填空区域的代码，实现对应的功能即可。
各次实验的填空区域均进行了注释，以LAB 1为例，仅需要在如下区间内填充代码即可。</p>
<pre><code class="lang-c++"><span class="hljs-comment">// LAB 1 BEGIN</span>

<span class="hljs-comment">// LAB 1 END</span>
</code></pre>
<p>各位同学仅需要搜索对应的注释&quot;// LAB N BEGIN&quot;即可快速定位补充代码的区域。</p>
<h2 id="更新说明">更新说明</h2>
<p>每次实验仅会发布截止到该实验所需要的源代码部分，所以进行新的实验之前，需要将新的实验框架更新部分添加到当前的实验框架上。为了新增一个远程仓库，在你的 dbtrain-lab 仓库目录下执行：</p>
<pre><code class="lang-bash">git remote add upstream git@git.tsinghua.edu.cn:dbtrain/2022/dbtrain-lab-template.git
</code></pre>
<p>之后每次需要拉取新的分支时，执行</p>
<pre><code class="lang-bash">git fetch upstream
</code></pre>
<p>然后再将更新的分支并入你的代码，例如将 lab2 分支以 merge 方式并入当前分支，执行</p>
<pre><code class="lang-bash">git merge upstream/lab2
</code></pre>
<p>merge 后可能产生冲突（如果你和上游仓库对同样的地方进行了不同的修改），这种情况请手动解决所有冲突并执行 git 的 add 和 commit 指令完成合并。</p>
<h2 id="提交说明">提交说明</h2>
<p>评测通过 CI 进行，每当你在 master 分支上 push 更新时，评测机会自动将仓库的 src 文件夹放入测试仓库中编译，然后运行测试脚本进行测试。</p>
<p>不要私自修改 .gitlab-ci.yml 文件。</p>
<p>评测机环境为 Ubuntu 20.04，各工具版本如下：</p>
<pre><code>cmake 3.16.3
make 4.2.1
g++ 9.4.0
flex 2.6.4
bison 3.5.1
</code></pre><ol>
<li><p>第 N 次实验截止后发布第 N+1 次实验，防止出现提交错误。</p>
</li>
<li><p>第 N 次实验截止后发布一个 10 天的作业补交窗口。</p>
</li>
<li><p>作业仅需要提交对应版本的 commit id 以及实验报告，commit id 直接使用提交窗口的输入框提交，报告以 pdf 形式通过附件提交。</p>
</li>
</ol>
<h2 id="补交说明">补交说明</h2>
<p>CI 评测默认情况下只会进行当前阶段实验的测试，如在 lab2 阶段只会对 lab2 相关测试进行评测，对于在 lab2 阶段补交 lab1 实验的同学，如想要进行 lab1 的评测，可在实验仓库根目录下新建 LAB.txt 文件，文件内容为 1，表示想要进行 lab1 测试，评测机会读取 LAB.txt 文件内容进行 lab1 相关测试。后续实验补交流程同理。</p>
<h2 id="高级功能">高级功能</h2>
<ol>
<li><p>高级功能不要求严格按照各次实验文档给出的推荐选项，只需要选择老师课程讲解过程中与实验相关的知识即可。</p>
</li>
<li><p>高级功能的添加要尽可能设计对应的测试用例，可以使用 SQL 测例，也可以使用 google-test 等工具进行单元测试。</p>
</li>
<li><p>高级功能的总评为 3 分，只需要给出一个合理的设计也能获得部分分数，但是希望取得高分则必须实现有挑战性的一些功能。</p>
</li>
</ol>
<h2 id="评分说明">评分说明</h2>
<p>每次实验 20 分，五次实验共 100 分。</p>
<p>对于每次实验：</p>
<ul>
<li>15 分是自动化测试的结果，通过所有测试即可得到满分，可在 gitlab 的 CI 中查看测试结果。</li>
<li>2 分是实验报告分，具体见报告说明。</li>
<li>3 分是高级功能分，具体见每次实验的高级功能说明。</li>
</ul>
<h2 id="报告说明">报告说明</h2>
<h3 id="内容要求">内容要求</h3>
<p>报告需要至少包括如下内容：</p>
<ol>
<li>基本功能的实现难点。</li>
<li>实现每个功能大致用了多少时间，实验总耗时多少（该条仅用于课程调查，不影响评分）。</li>
<li>（可选）高级功能的设计与实现方式，以及代码对应的分支和commit id（如果有的话）。</li>
</ol>
<h3 id="报告格式">报告格式</h3>
<ul>
<li>要求为 pdf 形式。</li>
<li>没有具体内容模板，但是建议从报告结构上<strong>突出重点内容</strong>，例如采用标题突出段落重点。</li>
<li><strong>不要</strong>直接将大段代码复制到报告中。</li>
<li>报告不要过长，过于冗长的报告可能会影响你的分数。</li>
<li>可以使用标准的示意图来展示自己的设计，<strong>不要</strong>使用过于抽象的手绘示意图。</li>
</ul>
<h2 id="bug-report">BUG Report</h2>
<p>对于实验框架的BUG可以在网络学堂的课程讨论区进行发布，方便其他同学查看。此处给出BUG Report的标准格式。</p>
<pre><code>
【重要BUG】\【一般BUG】
位置: xxx.cpp(文件名) 117(debug分支中对应起始行号)
说明: ......(简要的说明文字)
（如果有补丁文件，直接利用git diff创建补丁，置于附件中即可）
</code></pre><p>git diff补丁文件制作方法教程：</p>
<pre><code>
## 建议每次修复BUG重新建立分支

git checkout -b debug-patch(任意分支名)

## 修复BUG

git add .
git commit -m &quot;Fix a bug in ...&quot;
git diff debug &gt; xxx.patch(任意patch名)

## 提交xxx.patch文件到讨论区
</code></pre><h2 id="其他说明">其他说明</h2>
<ol>
<li>时间规范</li>
</ol>
<p>各位同学需要严格按照各个实验的截止时间完成各次实验任务，对于没有按时完成实验的同学会在实验得分上收到一定影响。
迟交实验具体的惩罚措施如下：
<strong>迟交成绩 = MAX(0, 实际成绩 × (1 - 0.1 × 迟交天数))</strong></p>
<ol>
<li>诚信规范</li>
</ol>
<p>各位同学一定要独立完成各次实验，本课程鼓励同学们思想上的交流，但<strong>不建议同学们直接进行代码交换</strong>。如果发现严重的代码雷同，可能会面临助教谈话甚至于当此实验记为0分的风险。</p>
<ol>
<li>保密规范</li>
</ol>
<p>各位同学一定<strong>不要将本次实验</strong>放到公共仓库上。</p>
<hr>
<p><em><small>last update at: 2022/3/29 01:12:26</small></em></p>
</body></html>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="test.html" class="navigation navigation-prev " aria-label="Previous page: 测试说明">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="lab1.html" class="navigation navigation-next " aria-label="Next page: lab 1: 记录管理">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"实验说明","level":"1.3","depth":1,"next":{"title":"lab 1: 记录管理","level":"2.1","depth":1,"path":"lab1.md","ref":"lab1.md","articles":[]},"previous":{"title":"测试说明","level":"1.2","depth":1,"path":"test.md","ref":"test.md","articles":[]},"dir":"ltr"},"config":{"plugins":["alerts","back-to-top-button","chapter-fold","click-reveal","code","codeblock-label","expandable-chapters-interactive","hide-element","intopic-toc","katex-pro","search-plus","todo"],"root":"./docs","styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"chapter-fold":{},"intopic-toc":{"selector":".markdown-section h1, .markdown-section h2, .markdown-section h3, .markdown-section h4, .markdown-section h5, .markdown-section h6","mode":"nested","maxDepth":6,"isCollapsed":true,"isScrollspyActive":true,"visible":true,"label":"目录"},"todo":{},"codeblock-label":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"code":{"copyButtons":true},"hide-element":{"elements":[".gitbook-link"]},"katex-pro":{},"fontsettings":{"theme":"white","family":"sans","size":2},"click-reveal":{},"highlight":{},"expandable-chapters-interactive":{},"back-to-top-button":{},"alerts":{},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"search-plus":{}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56},"embedFonts":false},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"dbs-tutorial","gitbook":"*"},"file":{"path":"intro.md","mtime":"2022-03-28T17:17:45.802Z","type":"markdown"},"gitbook":{"version":"3.7.1","time":"2022-03-28T17:17:56.279Z"},"basePath":".","book":{"language":""}});
        });
    </script>
</div>

        
    <noscript>
        <style>
            .honkit-cloak {
                display: block !important;
            }
        </style>
    </noscript>
    <script>
        // Restore sidebar state as critical path for prevent layout shift
        function __init__getSidebarState(defaultValue){
            var baseKey = "";
            var key = baseKey + ":sidebar";
            try {
                var value = localStorage[key];
                if (value === undefined) {
                    return defaultValue;
                }
                var parsed = JSON.parse(value);
                return parsed == null ? defaultValue : parsed;
            } catch (e) {
                return defaultValue;
            }
        }
        function __init__restoreLastSidebarState() {
            var isMobile = window.matchMedia("(max-width: 600px)").matches;
            if (isMobile) {
                // Init last state if not mobile
                return;
            }
            var sidebarState = __init__getSidebarState(true);
            var book = document.querySelector(".book");
            // Show sidebar if it enabled
            if (sidebarState && book) {
                book.classList.add("without-animation", "with-summary");
            }
        }

        try {
            __init__restoreLastSidebarState();
        } finally {
            var book = document.querySelector(".book");
            book.classList.remove("honkit-cloak");
        }
    </script>
    <script src="gitbook/gitbook.js"></script>
    <script src="gitbook/theme.js"></script>
    
        
        <script src="gitbook/gitbook-plugin-alerts/plugin.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-back-to-top-button/plugin.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-chapter-fold/chapter-fold.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-click-reveal/click_reveal.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-code/plugin.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-expandable-chapters-interactive/expandable-chapters.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-hide-element/plugin.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-intopic-toc/anchor.min.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-intopic-toc/gumshoe.polyfills.min.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-intopic-toc/plugin.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search-plus/jquery.mark.min.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search-plus/search.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

